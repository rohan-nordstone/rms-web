"use client"

import { useEffect, useRef, useState } from "react"
import Image from "next/image"
import autoAnimate from "@formkit/auto-animate"

import { cn } from "@/lib/utils"

import DropDown from "./DropDown"

export default function ReviewHeader() {
  const [show, setShow] = useState(false)
  const parent = useRef(null)

  useEffect(() => {
    parent.current && autoAnimate(parent.current)
  }, [parent])

  const reveal = () => setShow(!show)

  return (
    <div className="flex flex-col gap-5">
      <div className="flex flex-row gap-3">
        <Image
          className="h-[52px] w-[52px] rounded-lg"
          width={52}
          height={52}
          alt="anonymous"
          src="/user/anonymous.webp"
        />
        <div className="flex-1">
          <div className="flex justify-start gap-3">
            <div>
              <p className="text-lg font-semibold leading-relaxed text-black">
                Reporter | MMJ (OMB)
              </p>
              <div
                onClick={reveal}
                className="flex cursor-pointer items-center gap-2"
              >
                <div className="text-sm font-semibold text-sky-900">
                  Job details
                </div>
                <div className={cn("transform", show ? "rotate-180" : "")}>
                  <svg
                    width="7"
                    height="5"
                    viewBox="0 0 7 5"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M6.07462 1.09122C6.3047 1.3213 6.3047 1.69433 6.07462 1.9244L3.66244 4.33658C3.43236 4.56666 3.05933 4.56666 2.82926 4.33658L0.417078 1.9244C0.187 1.69433 0.187 1.3213 0.417078 1.09122C0.647155 0.861143 1.02018 0.861143 1.25026 1.09122L3.24585 3.08681L5.24143 1.09122C5.47151 0.861143 5.84454 0.861143 6.07462 1.09122Z"
                      fill="#194D79"
                    />
                  </svg>
                </div>
              </div>
            </div>
            <div className="mb-4 ml-auto mr-10 hidden items-center gap-1 text-base font-medium text-muted-foreground lg:flex">
              {false ? (
                <span className="flex items-center gap-1 text-primary">
                  <svg
                    width="19"
                    height="20"
                    viewBox="0 0 19 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M13.459 17.3605C13.2697 17.3368 13.0153 17.3191 12.7728 17.2717C12.6544 17.248 12.6071 17.2776 12.542 17.3723C11.7493 18.5089 10.6607 19.0713 9.27637 19.018C8.06358 18.9707 7.10518 18.4201 6.40117 17.4315C6.30651 17.3013 6.23552 17.2539 6.06987 17.2835C3.95784 17.6506 2.00554 16.2476 1.72157 14.1224C1.66833 13.7258 1.72749 13.3114 1.75707 12.9088C1.76299 12.7904 1.76299 12.7312 1.6565 12.6602C-0.556106 11.1388 -0.55019 8.02504 1.66241 6.47998C1.75707 6.41486 1.77482 6.36159 1.75707 6.24911C1.37253 4.09432 2.70955 2.18816 4.86891 1.84481C5.27712 1.7797 5.70307 1.85073 6.12311 1.87441C6.2296 1.88033 6.28876 1.88625 6.35976 1.78562C7.92159 -0.440213 10.992 -0.446133 12.5479 1.7797C12.613 1.87441 12.6722 1.88625 12.7846 1.86849C14.938 1.48371 16.8371 2.82157 17.1802 4.9882C17.2453 5.39075 17.1802 5.81105 17.1506 6.21951C17.1388 6.34383 17.1506 6.40894 17.263 6.4859C19.4579 7.9836 19.452 11.1566 17.2571 12.6543C17.1565 12.7253 17.1329 12.7786 17.1565 12.9029C17.5411 15.0518 16.1922 16.952 14.0329 17.3072C13.8554 17.3427 13.6838 17.3427 13.459 17.3605ZM8.56644 10.1621C8.53686 10.168 8.50137 10.1739 8.47179 10.1739C8.43038 10.1029 8.39488 10.0259 8.34163 9.96672C7.98667 9.60561 7.63171 9.23859 7.259 8.88932C6.87445 8.52822 6.3006 8.54598 5.93972 8.90708C5.57884 9.26819 5.56109 9.84832 5.92789 10.2213C6.56682 10.8784 7.21167 11.5236 7.86835 12.1629C8.24106 12.5241 8.79717 12.53 9.16988 12.1629C10.4418 10.908 11.702 9.64113 12.9562 8.3743C13.2105 8.11975 13.2815 7.79417 13.181 7.45082C12.9739 6.74637 12.1279 6.5451 11.5836 7.07788C10.6193 8.03096 9.66091 8.99588 8.70251 9.9608C8.65518 10.02 8.61377 10.097 8.56644 10.1621Z"
                      fill="#89C400"
                    />
                  </svg>
                  <span>Verified Rating of </span>
                </span>
              ) : (
                <span className="flex items-center gap-1 text-primary">
                  <svg
                    width="19"
                    height="18"
                    viewBox="0 0 19 18"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M18.9849 9.4106C18.8935 10.9767 18.4897 12.3833 17.7782 13.5917C17.0618 14.8098 16.0234 15.8394 14.7014 16.6417C13.2206 17.5408 11.6726 18 10.1102 18C8.83139 18 7.51894 17.6906 6.2113 17.0864C4.99019 16.5209 3.93735 15.6412 3.07681 14.4618C2.76432 14.0316 2.82682 13.5047 3.22584 13.2099C3.62486 12.9102 4.14407 13.0068 4.46137 13.4274C5.59113 14.9403 7.08146 15.8539 8.88428 16.1342C12.2976 16.6659 15.5427 14.8098 16.7734 11.6147C18.0666 8.26019 16.7494 4.51411 13.6437 2.69666C10.7929 1.03872 6.9757 1.63809 4.76424 4.10808C3.99985 4.96364 3.4566 5.94004 3.15373 7.02278C3.46141 6.90194 3.81235 6.96961 4.05754 7.21129C4.2258 7.37563 4.31714 7.58831 4.31714 7.8155C4.31714 8.05234 4.22099 8.27953 4.04312 8.46321C3.65851 8.85473 3.14892 9.3671 2.6249 9.8843C2.42779 10.0825 2.1778 10.1743 1.923 10.1501C1.67301 10.126 1.45187 9.99064 1.29803 9.76346C0.999962 9.3236 0.701896 8.87407 0.418253 8.44387C0.326911 8.30369 0.23076 8.15868 0.139418 8.01851C0.105765 7.97017 0.0817277 7.92184 0.0576901 7.87833C0.0480751 7.86383 0.0384601 7.8445 0.0288451 7.83L0 7.76233V7.3273L0.0336526 7.26446C0.312488 6.73276 0.745164 6.53941 1.19226 6.74726C1.27399 6.78593 1.3461 6.8391 1.4086 6.8971C2.27395 3.54738 4.38926 1.34807 7.69201 0.352337C9.3458 -0.145529 11.1198 -0.116527 12.8216 0.444177C14.5139 1.00005 15.9754 2.01995 17.0522 3.39754C18.4608 5.19566 19.1098 7.22096 18.9849 9.4106ZM10.6534 4.12259C10.6534 3.59088 10.2929 3.20419 9.7929 3.19936H9.78809C9.55733 3.19936 9.3458 3.28636 9.18715 3.44104C9.01889 3.61022 8.92274 3.84707 8.92274 4.11292C8.92274 4.77996 8.92274 5.44701 8.92274 6.11405V6.28323C8.92274 7.26446 8.92274 8.25052 8.92274 9.23176C8.92274 9.57011 9.06215 9.84563 9.33618 10.0486C9.81693 10.4015 10.2977 10.7689 10.7688 11.1217C10.9419 11.2522 11.1198 11.3876 11.2928 11.5181C11.4419 11.6292 11.5909 11.7453 11.7447 11.8564C12.062 12.0933 12.3745 12.335 12.6918 12.567C12.8553 12.6926 13.0332 12.7507 13.2158 12.7507C13.3697 12.7507 13.5235 12.7072 13.6677 12.6153C13.9706 12.4316 14.1197 12.1078 14.0668 11.7404C14.0235 11.4359 13.8264 11.2474 13.6533 11.1169C13.288 10.8414 12.9226 10.5658 12.562 10.2855L12.437 10.1937C11.8457 9.74412 11.2592 9.29943 10.6679 8.8499C10.6582 8.84023 10.6534 8.8354 10.6486 8.8354C10.6486 8.83056 10.6486 8.82573 10.6486 8.81606C10.6534 8.23119 10.6534 7.63182 10.6534 7.05661C10.6534 6.86327 10.6534 6.66992 10.6534 6.47174V5.75636C10.6534 5.21499 10.6534 4.66879 10.6534 4.12259Z"
                      fill="#194D79"
                    />
                  </svg>
                  <div>
                    <span className="text-base font-semibold text-secondary">
                      Verifying Rating{" "}
                    </span>
                    <span className="text-base font-normal text-stone-300">
                      of
                    </span>
                  </div>
                </span>
              )}
              <span>
                <Image
                  className="h-9 w-11"
                  width={500}
                  height={500}
                  alt="station_image"
                  src={"/images/station_logo.webp"}
                />
              </span>
              <span className="text-lg font-bold text-black"> KABC</span>
            </div>
            <div className="absolute right-0 top-2">
              <DropDown className="absolute right-0 top-0 min-w-[221px]" />
            </div>
          </div>
          <ul
            ref={parent}
            className={cn(
              "mt-5 flex w-full flex-wrap items-center justify-center gap-x-20 gap-y-5 rounded-lg bg-zinc-100 px-5 py-3",
              show ? "" : "hidden"
            )}
          >
            <li>
              <p className="text-sm font-semibold text-zinc-500">
                Yearly salary
              </p>
              <p className="text-lg font-semibold leading-relaxed text-black">
                +$100,000
              </p>
            </li>
            <li>
              <p className="text-sm font-semibold text-zinc-500">Contract</p>
              <p className="text-lg font-semibold leading-relaxed text-black">
                3 years
              </p>
            </li>
            <li>
              <p className="text-sm font-semibold text-zinc-500">
                Paired with a photog
              </p>
              <p className="text-lg font-semibold leading-relaxed text-black">
                When Necessary
              </p>
            </li>
            <li>
              <p className="text-sm font-semibold text-zinc-500">
                Station market rank
              </p>
              <p className="text-lg font-semibold leading-relaxed text-black">
                Between #1-2
              </p>
            </li>
          </ul>
        </div>
      </div>
      <div className="mb-4 mr-6 flex items-center gap-1 text-base font-medium text-muted-foreground lg:hidden">
        {false ? (
          <span className="flex items-center gap-1 text-primary">
            <svg
              width="19"
              height="20"
              viewBox="0 0 19 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.459 17.3605C13.2697 17.3368 13.0153 17.3191 12.7728 17.2717C12.6544 17.248 12.6071 17.2776 12.542 17.3723C11.7493 18.5089 10.6607 19.0713 9.27637 19.018C8.06358 18.9707 7.10518 18.4201 6.40117 17.4315C6.30651 17.3013 6.23552 17.2539 6.06987 17.2835C3.95784 17.6506 2.00554 16.2476 1.72157 14.1224C1.66833 13.7258 1.72749 13.3114 1.75707 12.9088C1.76299 12.7904 1.76299 12.7312 1.6565 12.6602C-0.556106 11.1388 -0.55019 8.02504 1.66241 6.47998C1.75707 6.41486 1.77482 6.36159 1.75707 6.24911C1.37253 4.09432 2.70955 2.18816 4.86891 1.84481C5.27712 1.7797 5.70307 1.85073 6.12311 1.87441C6.2296 1.88033 6.28876 1.88625 6.35976 1.78562C7.92159 -0.440213 10.992 -0.446133 12.5479 1.7797C12.613 1.87441 12.6722 1.88625 12.7846 1.86849C14.938 1.48371 16.8371 2.82157 17.1802 4.9882C17.2453 5.39075 17.1802 5.81105 17.1506 6.21951C17.1388 6.34383 17.1506 6.40894 17.263 6.4859C19.4579 7.9836 19.452 11.1566 17.2571 12.6543C17.1565 12.7253 17.1329 12.7786 17.1565 12.9029C17.5411 15.0518 16.1922 16.952 14.0329 17.3072C13.8554 17.3427 13.6838 17.3427 13.459 17.3605ZM8.56644 10.1621C8.53686 10.168 8.50137 10.1739 8.47179 10.1739C8.43038 10.1029 8.39488 10.0259 8.34163 9.96672C7.98667 9.60561 7.63171 9.23859 7.259 8.88932C6.87445 8.52822 6.3006 8.54598 5.93972 8.90708C5.57884 9.26819 5.56109 9.84832 5.92789 10.2213C6.56682 10.8784 7.21167 11.5236 7.86835 12.1629C8.24106 12.5241 8.79717 12.53 9.16988 12.1629C10.4418 10.908 11.702 9.64113 12.9562 8.3743C13.2105 8.11975 13.2815 7.79417 13.181 7.45082C12.9739 6.74637 12.1279 6.5451 11.5836 7.07788C10.6193 8.03096 9.66091 8.99588 8.70251 9.9608C8.65518 10.02 8.61377 10.097 8.56644 10.1621Z"
                fill="#89C400"
              />
            </svg>
            <span>Verified Rating of </span>
          </span>
        ) : (
          <span className="flex items-center gap-1 text-primary">
            <svg
              width="19"
              height="18"
              viewBox="0 0 19 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18.9849 9.4106C18.8935 10.9767 18.4897 12.3833 17.7782 13.5917C17.0618 14.8098 16.0234 15.8394 14.7014 16.6417C13.2206 17.5408 11.6726 18 10.1102 18C8.83139 18 7.51894 17.6906 6.2113 17.0864C4.99019 16.5209 3.93735 15.6412 3.07681 14.4618C2.76432 14.0316 2.82682 13.5047 3.22584 13.2099C3.62486 12.9102 4.14407 13.0068 4.46137 13.4274C5.59113 14.9403 7.08146 15.8539 8.88428 16.1342C12.2976 16.6659 15.5427 14.8098 16.7734 11.6147C18.0666 8.26019 16.7494 4.51411 13.6437 2.69666C10.7929 1.03872 6.9757 1.63809 4.76424 4.10808C3.99985 4.96364 3.4566 5.94004 3.15373 7.02278C3.46141 6.90194 3.81235 6.96961 4.05754 7.21129C4.2258 7.37563 4.31714 7.58831 4.31714 7.8155C4.31714 8.05234 4.22099 8.27953 4.04312 8.46321C3.65851 8.85473 3.14892 9.3671 2.6249 9.8843C2.42779 10.0825 2.1778 10.1743 1.923 10.1501C1.67301 10.126 1.45187 9.99064 1.29803 9.76346C0.999962 9.3236 0.701896 8.87407 0.418253 8.44387C0.326911 8.30369 0.23076 8.15868 0.139418 8.01851C0.105765 7.97017 0.0817277 7.92184 0.0576901 7.87833C0.0480751 7.86383 0.0384601 7.8445 0.0288451 7.83L0 7.76233V7.3273L0.0336526 7.26446C0.312488 6.73276 0.745164 6.53941 1.19226 6.74726C1.27399 6.78593 1.3461 6.8391 1.4086 6.8971C2.27395 3.54738 4.38926 1.34807 7.69201 0.352337C9.3458 -0.145529 11.1198 -0.116527 12.8216 0.444177C14.5139 1.00005 15.9754 2.01995 17.0522 3.39754C18.4608 5.19566 19.1098 7.22096 18.9849 9.4106ZM10.6534 4.12259C10.6534 3.59088 10.2929 3.20419 9.7929 3.19936H9.78809C9.55733 3.19936 9.3458 3.28636 9.18715 3.44104C9.01889 3.61022 8.92274 3.84707 8.92274 4.11292C8.92274 4.77996 8.92274 5.44701 8.92274 6.11405V6.28323C8.92274 7.26446 8.92274 8.25052 8.92274 9.23176C8.92274 9.57011 9.06215 9.84563 9.33618 10.0486C9.81693 10.4015 10.2977 10.7689 10.7688 11.1217C10.9419 11.2522 11.1198 11.3876 11.2928 11.5181C11.4419 11.6292 11.5909 11.7453 11.7447 11.8564C12.062 12.0933 12.3745 12.335 12.6918 12.567C12.8553 12.6926 13.0332 12.7507 13.2158 12.7507C13.3697 12.7507 13.5235 12.7072 13.6677 12.6153C13.9706 12.4316 14.1197 12.1078 14.0668 11.7404C14.0235 11.4359 13.8264 11.2474 13.6533 11.1169C13.288 10.8414 12.9226 10.5658 12.562 10.2855L12.437 10.1937C11.8457 9.74412 11.2592 9.29943 10.6679 8.8499C10.6582 8.84023 10.6534 8.8354 10.6486 8.8354C10.6486 8.83056 10.6486 8.82573 10.6486 8.81606C10.6534 8.23119 10.6534 7.63182 10.6534 7.05661C10.6534 6.86327 10.6534 6.66992 10.6534 6.47174V5.75636C10.6534 5.21499 10.6534 4.66879 10.6534 4.12259Z"
                fill="#194D79"
              />
            </svg>
            <div>
              <span className="text-base font-semibold text-secondary">
                Verifying Rating{" "}
              </span>
              <span className="text-base font-normal text-stone-300">of</span>
            </div>
          </span>
        )}
        <span>
          <Image
            className="h-9 w-11"
            width={500}
            height={500}
            alt="station_image"
            src={"/images/station_logo.webp"}
          />
        </span>
        <span className="text-lg font-bold text-black"> KABC</span>
      </div>
    </div>
  )
}
