"use client"

import Image from "next/image"
import Link from "next/link"
import { Separator } from "@radix-ui/react-separator"

import { convertTimestamp } from "@/lib/util_functions/convertTimestamp"
import { Badge } from "@/components/ui/badge"
import JobTags from "@/app/profile/newsroom/components/(Job Opening)/JobTags"
import { TJobsPosted } from "@/app/profile/newsroom/page"

type Props = {
  job: TJobsPosted
}

export default function JobOpeningsCard({ job }: Props) {
  return (
    <div>
      <div className="flex items-center gap-10 py-9">
        <Image
          className="hidden lg:block"
          src="/images/station_logo.webp"
          alt="Station Logo"
          width={126}
          height={126}
        />
        <div className="flex-1 space-y-5 lg:space-y-8">
          <div className="relative flex items-center gap-7">
            <div className="flex max-w-[90%] flex-col gap-5 sm:flex-row">
              <Image
                className="h-[60px] w-[73px] lg:hidden"
                src="/images/station_logo.webp"
                alt="Station Logo"
                width={126}
                height={126}
              />
              <div>
                <Link
                  href={"/jobs/any"}
                  className="text-xl font-bold leading-[30.50px] text-zinc-800 md:text-[28px]"
                >
                  {job.position}
                </Link>
                <p className="text-lg font-light leading-relaxed text-zinc-500 md:text-xl">
                  {job.station.name}
                </p>
              </div>
            </div>
          </div>
          <JobTags job={job} />
          <div className="flex items-center justify-between gap-5">
            <Badge className="flex items-center gap-2 px-3 py-2">
              <div>
                <svg
                  width="16"
                  height="17"
                  viewBox="0 0 16 17"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    id="Vector"
                    d="M8.21412 16.3537C3.96302 16.3758 0.442585 12.8819 0.424872 8.63083C0.40716 4.30446 3.8656 0.819444 8.20084 0.792874C12.4519 0.766305 15.9768 4.27789 15.9901 8.55555C16.0078 12.8509 12.5316 16.3359 8.21412 16.3537ZM7.50118 9.39692C7.43475 9.30835 7.40818 9.25078 7.3639 9.21093C6.8768 8.7194 6.38526 8.23229 5.89816 7.74519C5.69446 7.54149 5.45091 7.45735 5.17193 7.53706C4.64054 7.68762 4.48555 8.32528 4.88409 8.72825C5.55718 9.40577 6.2347 10.0833 6.91222 10.7564C7.31076 11.1549 7.68716 11.1549 8.09013 10.7564C8.94921 9.8973 9.80828 9.03823 10.6674 8.17915C10.9508 7.89575 11.2297 7.61677 11.5131 7.33336C11.7168 7.12524 11.7833 6.88168 11.6991 6.60271C11.5353 6.08017 10.9021 5.94733 10.4991 6.3503C9.54259 7.30236 8.59052 8.25443 7.63845 9.21093C7.59417 9.25078 7.5676 9.30835 7.50118 9.39692Z"
                    fill="white"
                  />
                </svg>
              </div>
              <p>{job.isHiring ? "Actively Hiring" : "Hiring"}</p>
            </Badge>
            <div className="flex items-center gap-2">
              <div>
                <svg
                  width="18"
                  height="17"
                  viewBox="0 0 18 17"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    id="Vector"
                    d="M17.1117 8.59741C17.0301 9.9893 16.6692 11.2394 16.0334 12.3134C15.3933 13.396 14.4654 14.311 13.284 15.0242C11.9608 15.8232 10.5776 16.2313 9.18137 16.2313C8.03864 16.2313 6.86585 15.9564 5.69735 15.4194C4.60617 14.9168 3.66536 14.1349 2.89638 13.0867C2.61715 12.7043 2.67299 12.2361 3.02956 11.974C3.38612 11.7077 3.85009 11.7936 4.13362 12.1673C5.14317 13.512 6.47492 14.3239 8.0859 14.5731C11.136 15.0456 14.0358 13.396 15.1356 10.5564C16.2912 7.57497 15.1141 4.2456 12.3389 2.63032C9.79139 1.15681 6.3804 1.68951 4.40426 3.88474C3.72121 4.64513 3.23576 5.51291 2.96512 6.4752C3.24006 6.36781 3.55367 6.42795 3.77276 6.64275C3.92312 6.78881 4.00474 6.97783 4.00474 7.17974C4.00474 7.39024 3.91882 7.59215 3.75987 7.7554C3.41619 8.10337 2.96082 8.55874 2.49256 9.01841C2.31643 9.19454 2.09304 9.27617 1.86535 9.25469C1.64197 9.23321 1.44435 9.11292 1.30688 8.91101C1.04053 8.52008 0.774182 8.12055 0.520721 7.73821C0.439098 7.61363 0.353179 7.48475 0.271555 7.36017C0.241484 7.31721 0.220004 7.27425 0.198524 7.23559C0.189932 7.2227 0.18134 7.20552 0.172748 7.19263L0.146973 7.13249V6.74585L0.177044 6.69C0.42621 6.21745 0.812846 6.04561 1.21237 6.23033C1.2854 6.2647 1.34984 6.31196 1.40569 6.36351C2.17896 3.38641 4.06918 1.43175 7.0205 0.546786C8.49831 0.104302 10.0835 0.130078 11.6043 0.628409C13.1165 1.12244 14.4224 2.02889 15.3847 3.25324C16.6434 4.85133 17.2234 6.65134 17.1117 8.59741ZM9.66681 3.89763C9.66681 3.42508 9.34461 3.0814 8.89783 3.0771H8.89354C8.68733 3.0771 8.49831 3.15443 8.35654 3.2919C8.20619 3.44226 8.12027 3.65276 8.12027 3.88904C8.12027 4.48188 8.12027 5.07472 8.12027 5.66756V5.81792C8.12027 6.69 8.12027 7.56638 8.12027 8.43846C8.12027 8.73917 8.24485 8.98404 8.48972 9.16447C8.91931 9.47808 9.34891 9.80457 9.76991 10.1182C9.92457 10.2342 10.0835 10.3545 10.2382 10.4704C10.3713 10.5692 10.5045 10.6724 10.642 10.7712C10.9255 10.9817 11.2048 11.1965 11.4883 11.4027C11.6344 11.5144 11.7933 11.5659 11.9566 11.5659C12.094 11.5659 12.2315 11.5272 12.3604 11.4456C12.631 11.2824 12.7642 10.9945 12.7169 10.6681C12.6783 10.3974 12.5021 10.2299 12.3475 10.1139C12.021 9.86901 11.6945 9.62414 11.3723 9.37497L11.2606 9.29335C10.7322 8.89383 10.2081 8.4986 9.6797 8.09908C9.67111 8.09048 9.66681 8.08619 9.66251 8.08619C9.66251 8.08189 9.66251 8.0776 9.66251 8.069C9.66681 7.54919 9.66681 7.01649 9.66681 6.50528C9.66681 6.33344 9.66681 6.1616 9.66681 5.98547V5.34966C9.66681 4.86852 9.66681 4.38307 9.66681 3.89763Z"
                    fill="#828282"
                  />
                </svg>
              </div>
              <p className="text-sm font-light text-zinc-500">
                {convertTimestamp(new Date(job.createdAt))}
              </p>
            </div>
          </div>
        </div>
      </div>
      <Separator />
    </div>
  )
}
